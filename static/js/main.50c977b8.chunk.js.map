{"version":3,"sources":["config.js","OwokanSaleForm.js","App.js","serviceWorker.js","index.js"],"names":["OWO_ABI","constant","inputs","name","outputs","type","payable","stateMutability","anonymous","indexed","OWO_SALE_ABI","OwokanSaleForm","_this","this","react_default","a","createElement","id","className","props","tokenPrice","tokensSold","toNumber","onSubmit","event","preventDefault","buyTokens","number","value","ref","input","defaultValue","min","pattern","aria-valuemin","aria-valuemax","role","style","width","progress","tokensAvailable","Component","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","account","loading","web3","bind","assertThisInitialized","initWeb3","window","ethereum","Web3","enable","console","log","currentProvider","givenProvider","loadContract","eth","getAccounts","accounts","setState","owokan","Contract","owokanSale","listenForEvents","loadData","methods","balanceOf","balance","totalSupply","tokenPriceInWei","utils","fromWei","toString","Math","ceil","src_OwokanSaleForm","numberOfTokens","_this2","send","from","catch","error","_this3","events","Sell","on","result","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"mZAGaA,UAAU,CACnB,CACEC,UAAY,EACZC,OAAU,GACVC,KAAQ,OACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,WAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,GACVC,KAAQ,cACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,GACVC,KAAQ,WACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,WAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,CACR,CACEC,KAAQ,GACRE,KAAQ,YAGZF,KAAQ,YACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,GACVC,KAAQ,SACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,WAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,CACR,CACEC,KAAQ,GACRE,KAAQ,WAEV,CACEF,KAAQ,GACRE,KAAQ,YAGZF,KAAQ,YACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEH,OAAU,CACR,CACEC,KAAQ,iBACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,aACnBF,KAAQ,eAEV,CACEG,WAAa,EACbN,OAAU,CACR,CACEO,SAAW,EACXN,KAAQ,QACRE,KAAQ,WAEV,CACEI,SAAW,EACXN,KAAQ,MACRE,KAAQ,WAEV,CACEI,SAAW,EACXN,KAAQ,SACRE,KAAQ,YAGZF,KAAQ,WACRE,KAAQ,SAEV,CACEG,WAAa,EACbN,OAAU,CACR,CACEO,SAAW,EACXN,KAAQ,SACRE,KAAQ,WAEV,CACEI,SAAW,EACXN,KAAQ,WACRE,KAAQ,WAEV,CACEI,SAAW,EACXN,KAAQ,SACRE,KAAQ,YAGZF,KAAQ,WACRE,KAAQ,SAEV,CACEJ,UAAY,EACZC,OAAU,CACR,CACEC,KAAQ,MACRE,KAAQ,WAEV,CACEF,KAAQ,SACRE,KAAQ,YAGZF,KAAQ,WACRC,QAAW,CACT,CACED,KAAQ,UACRE,KAAQ,SAGZC,SAAW,EACXC,gBAAmB,aACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,CACR,CACEC,KAAQ,WACRE,KAAQ,WAEV,CACEF,KAAQ,SACRE,KAAQ,YAGZF,KAAQ,UACRC,QAAW,CACT,CACED,KAAQ,UACRE,KAAQ,SAGZC,SAAW,EACXC,gBAAmB,aACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,CACR,CACEC,KAAQ,QACRE,KAAQ,WAEV,CACEF,KAAQ,MACRE,KAAQ,WAEV,CACEF,KAAQ,SACRE,KAAQ,YAGZF,KAAQ,eACRC,QAAW,CACT,CACED,KAAQ,UACRE,KAAQ,SAGZC,SAAW,EACXC,gBAAmB,aACnBF,KAAQ,cAIDK,EAAe,CACxB,CACET,UAAY,EACZC,OAAU,GACVC,KAAQ,aACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,GACVC,KAAQ,gBACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,GACVC,KAAQ,aACRC,QAAW,CACT,CACED,KAAQ,GACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,OACnBF,KAAQ,YAEV,CACEH,OAAU,CACR,CACEC,KAAQ,iBACRE,KAAQ,WAEV,CACEF,KAAQ,cACRE,KAAQ,YAGZC,SAAW,EACXC,gBAAmB,aACnBF,KAAQ,eAEV,CACEG,WAAa,EACbN,OAAU,CACR,CACEO,SAAW,EACXN,KAAQ,SACRE,KAAQ,WAEV,CACEI,SAAW,EACXN,KAAQ,UACRE,KAAQ,YAGZF,KAAQ,OACRE,KAAQ,SAEV,CACEJ,UAAY,EACZC,OAAU,CACR,CACEC,KAAQ,kBACRE,KAAQ,YAGZF,KAAQ,YACRC,QAAW,GACXE,SAAW,EACXC,gBAAmB,UACnBF,KAAQ,YAEV,CACEJ,UAAY,EACZC,OAAU,GACVC,KAAQ,UACRC,QAAW,GACXE,SAAW,EACXC,gBAAmB,aACnBF,KAAQ,aChSCM,mLApCJ,IAAAC,EAAAC,KACL,OACAC,EAAAC,EAAAC,cAAA,OAAKC,GAAG,UAAUC,UAAU,eACxBJ,EAAAC,EAAAC,cAAA,8DAEoBH,KAAKM,MAAMC,WAF/B,8BAEsEP,KAAKM,MAAME,WAAWC,WAF5F,YAIAR,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,QAAMO,SAAU,SAACC,GACfA,EAAMC,iBACNb,EAAKO,MAAMO,UAAUd,EAAKe,OAAOC,SAE/Bd,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACXJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACXJ,EAAAC,EAAAC,cAAA,SACEa,IAAK,SAACC,GAAD,OAAWlB,EAAKe,OAASG,GAC9BC,aAAc,EACd1B,KAAK,SAASY,GAAG,iBAAiBC,UAAU,wBAAwBf,KAAK,SAAU6B,IAAI,IAAIC,QAAQ,UACrGnB,EAAAC,EAAAC,cAAA,QAAME,UAAU,mBACZJ,EAAAC,EAAAC,cAAA,UAAQX,KAAK,SAASa,UAAU,0BAAhC,kBAKhBJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACXJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,2CAA2CgB,gBAAc,IAAIC,gBAAc,MAAOC,KAAK,cAAeC,MAAO,CAACC,MAAOzB,KAAKM,MAAMoB,SAAS,QAE5JzB,EAAAC,EAAAC,cAAA,SAAIH,KAAKM,MAAME,WAAWC,WAA1B,MAAyCT,KAAKM,MAAMqB,gBAApD,gBACA1B,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGC,GAAG,2BAhCawB,aCoIdC,cA9Hb,SAAAA,EAAYvB,GAAO,IAAAP,EAAA,OAAA+B,OAAAC,EAAA,EAAAD,CAAA9B,KAAA6B,IACjB9B,EAAA+B,OAAAE,EAAA,EAAAF,CAAA9B,KAAA8B,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAlC,KAAMM,KACD6B,MAAQ,CACXC,QAAS,GACTT,gBAAiB,IACjBU,SAAS,GAGXtC,EAAKuC,KAAO,KACZvC,EAAKc,UAAYd,EAAKc,UAAU0B,KAAfT,OAAAU,EAAA,EAAAV,CAAA/B,IATAA,oFAafC,KAAKyC,0JAMDC,OAAOC,iCACP3C,KAAKsC,KAAO,IAAIM,IAAKF,OAAOC,4BAGlBD,OAAOC,SAASE,gEAGtBC,QAAQC,IAAI,8DAIT/C,KAAKsC,KACVtC,KAAKsC,KAAO,IAAIM,IAAK5C,KAAKsC,KAAKU,kBAIjChD,KAAKsC,KAAO,IAAIM,IAAKA,IAAKK,cAAe,yBACzCH,QAAQC,IAAI,gFAGhB/C,KAAKkD,mSAMgBlD,KAAKsC,KAAKa,IAAIC,qBAA/BC,SACNrD,KAAKsD,SAAS,CAAElB,QAASiB,EAAS,KAG5BE,EAAS,IAAIvD,KAAKsC,KAAKa,IAAIK,SAASrE,EFzDnB,8CE4DjBsE,EAAa,IAAIzD,KAAKsC,KAAKa,IAAIK,SAAS3D,EF3DlB,8CE6D5BG,KAAKsD,SAAS,CAAEC,SAAQE,eACxBzD,KAAK0D,kBACL1D,KAAK2D,wRAIiB3D,KAAKmC,MAAMoB,OAAOK,QAAQC,UAAU7D,KAAKmC,MAAMC,SAASF,qBAAxE4B,kBACoB9D,KAAKmC,MAAMoB,OAAOK,QAAQG,cAAc7B,qBAA5D6B,kBACmB/D,KAAKmC,MAAMsB,WAAWG,QAAQrD,aAAa2B,qBAA9D3B,SACAyD,EAAkBhE,KAAKsC,KAAK2B,MAAMC,QAAQ3D,EAAW4D,WAAY,mBAC9CnE,KAAKmC,MAAMsB,WAAWG,QAAQpD,aAAa0B,eAA9D1B,SACFkB,EAAY0C,KAAKC,KAAK7D,GAAcR,KAAKmC,MAAMR,gBAAmB,IAEtE3B,KAAKsD,SAAS,CAAEQ,UAASC,cAAaxD,aAAYyD,kBAAiBxD,aAAYkB,aAE/E1B,KAAKsD,SAAS,CAAEjB,SAAS,wIAIvB,OACApC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YAAYmB,MAAO,CAACC,MAAO,UACtCxB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACXJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACXJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,eAAd,yBACAJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,YAGFH,KAAKmC,MAAME,QACTpC,EAAAC,EAAAC,cAAA,OAAKC,GAAG,UAASH,EAAAC,EAAAC,cAAA,KAAGE,UAAU,eAAb,eACjBJ,EAAAC,EAAAC,cAACmE,EAAD,CACE/D,WAAYP,KAAKmC,MAAM6B,gBACvBxD,WAAYR,KAAKmC,MAAM3B,WACvBmB,gBAAiB3B,KAAKmC,MAAMR,gBAC5BD,SAAU1B,KAAKmC,MAAMT,SACrBb,UAAWb,KAAKa,gDAQxB0D,GAAgB,IAAAC,EAAAxE,KACxBA,KAAKsD,SAAS,CAAEjB,SAAS,IAEzBrC,KAAKmC,MAAMsB,WAAWG,QAAQ/C,UAAU0D,GAAgBE,KAAK,CACzDC,KAAM1E,KAAKmC,MAAMC,QACjBrB,MAAOwD,EAAiBvE,KAAKmC,MAAM5B,aAClCoE,MAAM,SAACC,GACVJ,EAAKlB,SAAS,CAAEjB,SAAS,gDAcX,IAAAwC,EAAA7E,KAChBA,KAAKmC,MAAMsB,WAAWqB,OAAOC,OAAOC,GAAG,OAAQ,SAAAC,GAC7CJ,EAAKlB,oBA1HO/B,aCMEsD,QACW,cAA7BxC,OAAOyC,SAASC,UAEe,UAA7B1C,OAAOyC,SAASC,UAEhB1C,OAAOyC,SAASC,SAASC,MACvB,2DCXNC,IAASC,OAAOtF,EAAAC,EAAAC,cAACqF,EAAD,MAASC,SAASC,eAAe,SD0H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.50c977b8.chunk.js","sourcesContent":["export const OWO_ADDRESS = '0xd32595fdbef63174447e2E9D627E0C8A812eBce0';\nexport const OWO_SALE_ADDRESS = '0xf63A0De7B454fa48c80ffddf4dCB90e6860129f8';\n\nexport const OWO_ABI = [\n    {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"name\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"totalSupply\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"standard\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": true,\n      \"inputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"balanceOf\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"symbol\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"string\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": true,\n      \"inputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"address\"\n        },\n        {\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"allowance\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"name\": \"_initialSupply\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"constructor\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"name\": \"_from\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"name\": \"_to\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"name\": \"_value\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"Transfer\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": true,\n          \"name\": \"_owner\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": true,\n          \"name\": \"_spender\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"name\": \"_value\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"Approval\",\n      \"type\": \"event\"\n    },\n    {\n      \"constant\": false,\n      \"inputs\": [\n        {\n          \"name\": \"_to\",\n          \"type\": \"address\"\n        },\n        {\n          \"name\": \"_value\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"transfer\",\n      \"outputs\": [\n        {\n          \"name\": \"success\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": false,\n      \"inputs\": [\n        {\n          \"name\": \"_spender\",\n          \"type\": \"address\"\n        },\n        {\n          \"name\": \"_value\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"approve\",\n      \"outputs\": [\n        {\n          \"name\": \"success\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": false,\n      \"inputs\": [\n        {\n          \"name\": \"_from\",\n          \"type\": \"address\"\n        },\n        {\n          \"name\": \"_to\",\n          \"type\": \"address\"\n        },\n        {\n          \"name\": \"_value\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"transferFrom\",\n      \"outputs\": [\n        {\n          \"name\": \"success\",\n          \"type\": \"bool\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ];\n\nexport const OWO_SALE_ABI = [\n    {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"tokensSold\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"tokenContract\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"address\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"tokenPrice\",\n      \"outputs\": [\n        {\n          \"name\": \"\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"name\": \"_tokenContract\",\n          \"type\": \"address\"\n        },\n        {\n          \"name\": \"_tokenPrice\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"constructor\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": false,\n          \"name\": \"_buyer\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"name\": \"_amount\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"Sell\",\n      \"type\": \"event\"\n    },\n    {\n      \"constant\": false,\n      \"inputs\": [\n        {\n          \"name\": \"_numberOfTokens\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"buyTokens\",\n      \"outputs\": [],\n      \"payable\": true,\n      \"stateMutability\": \"payable\",\n      \"type\": \"function\"\n    },\n    {\n      \"constant\": false,\n      \"inputs\": [],\n      \"name\": \"endSale\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ];\n","import React, { Component } from 'react';\n\nclass OwokanSaleForm extends Component {\n\n  render() {\n      return (\n      <div id=\"content\" className=\"text-center\">\n          <p>\n              Introduction \"Owokan Token\" (OWO)!\n              Token price is {this.props.tokenPrice} Ether. You currently have {this.props.tokensSold.toNumber()}&nbsp;OWO.\n          </p>\n          <br/>\n          <form onSubmit={(event) => {\n            event.preventDefault();\n            this.props.buyTokens(this.number.value)\n          }}>\n              <div className=\"form-group\">\n                  <div className=\"input-group\">\n                      <input\n                        ref={(input) => this.number = input}\n                        defaultValue={1}\n                        type=\"number\" id=\"numberOfTokens\" className=\"form-control input-lg\" name=\"number\"  min=\"1\" pattern=\"[0-9]\" />\n                      <span className=\"input-group-btn\">\n                          <button type=\"submit\" className=\"btn btn-primary btn-lg\">Buy Tokens</button>\n                      </span>\n                  </div>\n              </div>\n          </form>\n          <br/>\n          <div className=\"progress\">\n              <div className=\"progress-bar progress-bar-striped active\" aria-valuemin=\"0\" aria-valuemax=\"100\"  role=\"progressbar\"  style={{width: this.props.progress+\"%\"}}></div>\n          </div>\n          <p>{this.props.tokensSold.toNumber()} / {this.props.tokensAvailable} tokens sold</p>\n          <hr/>\n          <p id=\"accountAddress\"></p>\n      </div>\n    );\n  }\n}\n\nexport default OwokanSaleForm;\n","import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport './App.css';\nimport { OWO_ABI, OWO_ADDRESS, OWO_SALE_ABI, OWO_SALE_ADDRESS } from './config';\nimport OwokanSaleForm from './OwokanSaleForm';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: '',\n      tokensAvailable: 500000,\n      loading: true,\n    };\n\n    this.web3 = null;\n    this.buyTokens = this.buyTokens.bind(this);\n  }\n\n    componentWillMount() {\n      this.initWeb3();\n    }\n\n    async initWeb3() {\n\n      // Modern dapp browsers...\n      if (window.ethereum) {\n          this.web3 = new Web3(window.ethereum);\n          try {\n              // Request account access if needed\n              await window.ethereum.enable();\n          } catch (error) {\n              // User denied account access...\n              console.log('User denied account access')\n          }\n      }\n        // Legacy dapp browsers...\n        else if (this.web3) {\n            this.web3 = new Web3(this.web3.currentProvider);\n        }\n      // Non-dapp browsers...\n      else {\n          this.web3 = new Web3(Web3.givenProvider, \"http://localhost:7545\");\n          console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');\n      }\n\n      this.loadContract();\n      // this.listenForEvents();\n  }\n\n  async loadContract() {\n\n    const accounts = await this.web3.eth.getAccounts();\n    this.setState({ account: accounts[0] });\n\n    // owokan token contract\n    const owokan = new this.web3.eth.Contract(OWO_ABI, OWO_ADDRESS);\n\n    // owokan token sale contract\n    const owokanSale = new this.web3.eth.Contract(OWO_SALE_ABI, OWO_SALE_ADDRESS);\n\n    this.setState({ owokan, owokanSale });\n    this.listenForEvents();\n    this.loadData();\n  }\n\n  async loadData() {\n    const balance = await this.state.owokan.methods.balanceOf(this.state.account).call();\n    const totalSupply = await this.state.owokan.methods.totalSupply().call();\n    const tokenPrice = await this.state.owokanSale.methods.tokenPrice().call();\n    const tokenPriceInWei = this.web3.utils.fromWei(tokenPrice.toString(), 'ether');\n    const tokensSold = await this.state.owokanSale.methods.tokensSold().call();\n    var progress = (Math.ceil(tokensSold) / this.state.tokensAvailable) * 100;\n\n    this.setState({ balance, totalSupply, tokenPrice, tokenPriceInWei, tokensSold, progress });\n\n    this.setState({ loading: false });\n  }\n\n  render() {\n      return (\n      <div className=\"container\" style={{width: '640px'}}>\n          <div className=\"row\">\n              <div className=\"col-lg-12\">\n                  <h1 className=\"text-center\">OWOKAN TOKEN ICO SALE</h1>\n                  <hr/>\n                  <hr/>\n              </div>\n\n              { this.state.loading\n                ? <div id=\"loader\"><p className=\"text-center\">Loading...</p></div>\n                : <OwokanSaleForm\n                    tokenPrice={this.state.tokenPriceInWei}\n                    tokensSold={this.state.tokensSold}\n                    tokensAvailable={this.state.tokensAvailable}\n                    progress={this.state.progress}\n                    buyTokens={this.buyTokens}/>\n              }\n\n          </div>\n      </div>\n    );\n  }\n\n  buyTokens(numberOfTokens) {\n    this.setState({ loading: true });\n\n    this.state.owokanSale.methods.buyTokens(numberOfTokens).send({\n        from: this.state.account,\n        value: numberOfTokens * this.state.tokenPrice\n      }).catch((error) => {\n      this.setState({ loading: false });\n    });\n\n    // this.state.owokanSale.methods.buyTokens(numberOfTokens).send({\n    //     from: this.state.account,\n    //     value: numberOfTokens * this.state.tokenPrice\n    //   }).once('receipt', (receipt) => {\n    //     console.log('token bought');\n    //     this.setState({ loading: false });\n    //   }). catch((error) => {\n    //   this.setState({ loading: false });\n    // });\n  }\n\n  listenForEvents() {\n    this.state.owokanSale.events.Sell().on('data', result => {\n      this.loadData();\n    });\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}